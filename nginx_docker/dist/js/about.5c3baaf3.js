"use strict";(self["webpackChunkapi_test_platform"]=self["webpackChunkapi_test_platform"]||[]).push([[594],{1852:function(e,t,l){l.r(t),l.d(t,{default:function(){return u}});l(4114);var a=l(6768),o=l(4232);const n={class:"chart_box",ref:"chart1"};function s(e,t,l,s,i,r){const d=(0,a.g2)("el-table-column"),u=(0,a.g2)("el-button"),c=(0,a.g2)("el-table"),m=(0,a.g2)("el-pagination");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",n,null,512),(0,a.bF)(c,{data:i.recordList,style:{width:"100%"},height:"calc(100vh - 320px)"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{label:"执行时间"},{default:(0,a.k6)((e=>[(0,a.eW)((0,o.v_)(e.row.created_time),1)])),_:1}),(0,a.bF)(d,{label:"测试计划",prop:"plan_name"}),(0,a.bF)(d,{label:"执行环境",prop:"env_name"}),(0,a.bF)(d,{label:"通过",prop:"success"}),(0,a.bF)(d,{label:"失败",prop:"fail"}),(0,a.bF)(d,{label:"通过率",prop:"pass_rate"}),(0,a.bF)(d,{label:"查看报告",width:"100"},{default:(0,a.k6)((l=>[(0,a.bF)(u,{onClick:t=>e.$router.push({name:"report",params:{id:l.row.id}}),size:"small",type:"success",plain:""},{default:(0,a.k6)((()=>t[2]||(t[2]=[(0,a.eW)("测试报告 ")]))),_:2,__:[2]},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,a.bF)(m,{currentPage:i.page,"onUpdate:currentPage":t[0]||(t[0]=e=>i.page=e),"page-size":i.size,"onUpdate:pageSize":t[1]||(t[1]=e=>i.size=e),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:i.count,onSizeChange:r.updateData,onCurrentChange:r.updateData},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])],64)}l(8111),l(7588);var i={data(){return{recordList:[],count:900,page:1,size:10}},methods:{async updateData(){this.page,this.size;this.getProjectrecords()},async getProjectrecords(){const e=await this.$api.getTestRecord({project:this.$store.state.pro.id,page_size:this.size,page:this.page});200===e.status&&(this.count=e.data.count,this.recordList=e.data.results)},showChart(){const e=this.$refs.chart1;this.$chart.chart3(e,this.chartData.value,this.chartData.lable)}},computed:{chartData(){let e=[],t=[];return this.recordList.forEach((l=>{e.push(this.$date.rTime(l.create_time)),t.push(l.pass_rate)})),{lable:e,value:t}}},created(){this.getProjectrecords()},mounted(){this.showChart()},watch:{recordList(e){e.length>1&&this.showChart()}}},r=l(1241);const d=(0,r.A)(i,[["render",s],["__scopeId","data-v-15de64fa"]]);var u=d},3471:function(e,t,l){l.r(t),l.d(t,{default:function(){return V}});var a=l(6768);const o={class:"home"},n={class:"left_box"},s={class:"right_box"},i={class:"top_box"},r={class:"main_box"};function d(e,t,l,d,u,c){const m=(0,a.g2)("LeftMenu"),f=(0,a.g2)("el-scrollbar"),p=(0,a.g2)("TopTag"),g=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.Lk)("div",n,[(0,a.bF)(f,{height:"100vh"},{default:(0,a.k6)((()=>[(0,a.bF)(m)])),_:1})]),(0,a.Lk)("div",s,[(0,a.Lk)("div",i,[(0,a.bF)(p)]),(0,a.Lk)("div",r,[(0,a.bF)(f,{height:"calc(100vh - 66px)"},{default:(0,a.k6)((()=>[(0,a.bF)(g)])),_:1})])])])}var u=l(4232);const c={class:"tags"},m={class:"tag_box"},f={class:"select_env"},p={class:"dialog-footer"};function g(e,t,l,o,n,s){const i=(0,a.g2)("el-tag"),r=(0,a.g2)("el-scrollbar"),d=(0,a.g2)("el-button"),g=(0,a.g2)("el-option"),h=(0,a.g2)("el-select"),b=(0,a.g2)("el-tooltip"),_=(0,a.g2)("el-descriptions-item"),k=(0,a.g2)("el-descriptions"),F=(0,a.g2)("el-dialog");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",c,[(0,a.Lk)("div",m,[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.tags,(t=>((0,a.uX)(),(0,a.CE)("span",{key:t.name},[t.path===e.$route.path?((0,a.uX)(),(0,a.Wv)(i,{key:0,effect:"dark",type:"success",onClick:e=>s.clickTag(t)},{default:(0,a.k6)((()=>[(0,a.eW)((0,u.v_)(t.meta.name),1)])),_:2},1032,["onClick"])):((0,a.uX)(),(0,a.Wv)(i,{key:1,onClose:e=>s.closeTag(t),type:"success",closable:"",onClick:e=>s.clickTag(t)},{default:(0,a.k6)((()=>[(0,a.eW)((0,u.v_)(t.meta.name),1)])),_:2},1032,["onClose","onClick"]))])))),128))])),_:1})]),(0,a.Lk)("div",f,[(0,a.bF)(d,{onClick:s.closeAllTag,type:"success",plain:"",style:{"margin-right":"10px"}},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.eW)("关闭其他标签")]))),_:1,__:[3]},8,["onClick"]),(0,a.bF)(h,{modelValue:s.env,"onUpdate:modelValue":t[0]||(t[0]=e=>s.env=e),placeholder:"选择环境",style:{width:"180px"}},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.testEnvs,(e=>((0,a.uX)(),(0,a.Wv)(g,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),s.env?((0,a.uX)(),(0,a.Wv)(b,{key:0,class:"box-item",effect:"dark",content:"查看环境信息",placement:"bottom"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{onClick:s.clickShowEnv,icon:"View"},null,8,["onClick"])])),_:1})):(0,a.Q3)("",!0)])]),(0,a.bF)(F,{modelValue:n.showEnv,"onUpdate:modelValue":t[2]||(t[2]=e=>n.showEnv=e),title:"环境变量"},{footer:(0,a.k6)((()=>[(0,a.Lk)("span",p,[(0,a.bF)(d,{onClick:s.editEnv,type:"success",plain:""},{default:(0,a.k6)((()=>t[6]||(t[6]=[(0,a.eW)("编辑")]))),_:1,__:[6]},8,["onClick"]),(0,a.bF)(d,{onClick:t[1]||(t[1]=e=>n.showEnv=!1)},{default:(0,a.k6)((()=>t[7]||(t[7]=[(0,a.eW)("关闭")]))),_:1,__:[7]})])])),default:(0,a.k6)((()=>[(0,a.bF)(k,{border:"",column:1,"label-align":""},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.envInfo.debug_globals_variables,((e,l)=>((0,a.uX)(),(0,a.Wv)(_,{label:l},{label:(0,a.k6)((()=>[(0,a.bF)(i,{type:"warning"},{default:(0,a.k6)((()=>t[4]||(t[4]=[(0,a.eW)("debug")]))),_:1,__:[4]}),(0,a.eW)(" "+(0,u.v_)(l),1)])),default:(0,a.k6)((()=>[(0,a.eW)(" "+(0,u.v_)(e),1)])),_:2},1032,["label"])))),256)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.envInfo.globals_variables,((e,l)=>((0,a.uX)(),(0,a.Wv)(_,{label:l},{label:(0,a.k6)((()=>[(0,a.bF)(i,{type:"success"},{default:(0,a.k6)((()=>t[5]||(t[5]=[(0,a.eW)("global")]))),_:1,__:[5]}),(0,a.eW)(" "+(0,u.v_)(l),1)])),default:(0,a.k6)((()=>[(0,a.eW)(" "+(0,u.v_)(e),1)])),_:2},1032,["label"])))),256))])),_:1})])),_:1},8,["modelValue"])],64)}l(4114),l(8111),l(7588);var h=l(782),b={data(){return{showEnv:!1,env_variable:[],envInfo:{}}},computed:{...(0,h.aH)(["tags","envId","testEnvs"]),env:{get(){return this.envId},set(e){this.selectEnv(e)}}},methods:{...(0,h.PY)(["popTags","selectEnv"]),async clickShowEnv(){const e=await this.$api.getEnvInfo(this.envId);200===e.status&&(this.envInfo=e.data),this.showEnv=!0},clickTag(e){this.$router.push(e)},closeTag(e){this.popTags(e),this.$route===e&&this.$router.push(this.tags[this.tags.length-1].path)},closeAllTag(){this.tags.forEach((e=>{this.$route.path!==e.path&&this.popTags(e)}))},editEnv(){this.showEnv=!1,this.$router.push({name:"testenv"})}},watch:{testEnvs(e){e&&0===e.length?this.env="请添加测试环境":e&&e.length>0&&(this.env=e[0].id)}}},_=l(1241);const k=(0,_.A)(b,[["render",g]]);var F=k,v=l.p+"img/logo2.59d08c34.png";const C={class:"user_box"},y={class:"info"},w={class:"el-dropdown-link"};function E(e,t,l,o,n,s){const i=(0,a.g2)("User"),r=(0,a.g2)("el-icon"),d=(0,a.g2)("arrow-down"),c=(0,a.g2)("el-dropdown-item"),m=(0,a.g2)("el-dropdown-menu"),f=(0,a.g2)("el-dropdown"),p=(0,a.g2)("HomeFilled"),g=(0,a.g2)("el-menu-item"),h=(0,a.g2)("Paperclip"),b=(0,a.g2)("Connection"),_=(0,a.g2)("HelpFilled"),k=(0,a.g2)("CollectionTag"),F=(0,a.g2)("Coin"),E=(0,a.g2)("Clock"),A=(0,a.g2)("Lightning"),L=(0,a.g2)("Histogram"),x=(0,a.g2)("el-menu");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",C,[(0,a.Lk)("img",{src:v,width:"30",onClick:t[0]||(t[0]=t=>e.$router.push({name:"allpro"}))}),(0,a.Lk)("div",y,[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.bF)(i)])),_:1}),(0,a.bF)(f,null,{dropdown:(0,a.k6)((()=>[(0,a.bF)(m,null,{default:(0,a.k6)((()=>[(0,a.bF)(c,{onClick:t[1]||(t[1]=t=>e.$router.push({name:"allpro"}))},{default:(0,a.k6)((()=>t[2]||(t[2]=[(0,a.eW)("选择项目")]))),_:1,__:[2]}),(0,a.bF)(c,{onClick:s.logout},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.eW)("注销登录")]))),_:1,__:[3]},8,["onClick"])])),_:1})])),default:(0,a.k6)((()=>[(0,a.Lk)("span",w,[(0,a.eW)((0,u.v_)(s.username)+" ",1),(0,a.bF)(r,{class:"el-icon--right"},{default:(0,a.k6)((()=>[(0,a.bF)(d)])),_:1})])])),_:1})])]),(0,a.bF)(x,{"default-active":e.$route.path,router:"","text-color":"#fff","active-text-color":"#ffd04b","background-color":"#00aa7f",class:"el-menu-vertical-demo"},{default:(0,a.k6)((()=>[(0,a.bF)(g,{index:"/project/index"},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.bF)(p)])),_:1}),t[4]||(t[4]=(0,a.Lk)("span",null,"项目首页",-1))])),_:1,__:[4]}),(0,a.bF)(g,{index:"/project/interface"},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.bF)(h)])),_:1}),t[5]||(t[5]=(0,a.Lk)("span",null,"接口管理",-1))])),_:1,__:[5]}),(0,a.bF)(g,{index:"/project/test"},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.bF)(b)])),_:1}),t[6]||(t[6]=(0,a.Lk)("span",null,"接口测试",-1))])),_:1,__:[6]}),(0,a.bF)(g,{index:"/testscene"},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.bF)(_)])),_:1}),t[7]||(t[7]=(0,a.Lk)("span",null,"测试场景",-1))])),_:1,__:[7]}),(0,a.bF)(g,{index:"/testplan"},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.bF)(k)])),_:1}),t[8]||(t[8]=(0,a.Lk)("span",null,"测试计划",-1))])),_:1,__:[8]}),(0,a.bF)(g,{index:"/testenv"},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.bF)(F)])),_:1}),t[9]||(t[9]=(0,a.Lk)("span",null,"测试环境",-1))])),_:1,__:[9]}),(0,a.bF)(g,{index:"/crontab"},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.bF)(E)])),_:1}),t[10]||(t[10]=(0,a.Lk)("span",null,"定时任务",-1))])),_:1,__:[10]}),(0,a.bF)(g,{index:"/bugs"},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.bF)(A)])),_:1}),t[11]||(t[11]=(0,a.Lk)("span",null,"bug管理",-1))])),_:1,__:[11]}),(0,a.bF)(g,{index:"/records"},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.bF)(L)])),_:1}),t[12]||(t[12]=(0,a.Lk)("span",null,"测试报表",-1))])),_:1,__:[12]})])),_:1},8,["default-active"])],64)}var A=l(2933),L=l(1219),x={methods:{logout(){A.s.confirm("确定要退出登录?","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((()=>{window.sessionStorage.removeItem("username"),window.sessionStorage.removeItem("token"),this.$router.push({name:"login"}),(0,L.nk)({type:"success",message:"成功退出登录",duration:1e3})})).catch((()=>{(0,L.nk)({type:"info",message:"已取消退出登录的操作",duration:1e3})}))}},computed:{username(){return window.sessionStorage.getItem("username")}}};const T=(0,_.A)(x,[["render",E],["__scopeId","data-v-b32dc40c"]]);var P=T,I={components:{LeftMenu:P,TopTag:F},methods:{...(0,h.i0)(["getAllInterFaces","getAllEnvs","getAllScene","getAllPlan"])},created(){this.getAllInterFaces(),this.getAllEnvs(),this.getAllScene(),this.getAllPlan()}};const D=(0,_.A)(I,[["render",d],["__scopeId","data-v-6afa9c30"]]);var V=D},3979:function(e,t,l){l.r(t),l.d(t,{default:function(){return C}});var a=l(6768),o=l(4232);const n={class:"pro_title"},s={class:"info"},i={class:"percentage-value"},r={style:{color:"#00aa7f"}},d={key:0},u={key:1},c={class:"percentage-label"},m={class:"info"},f={class:"percentage-value"},p={style:{color:"#00aaff"}},g={class:"percentage-label"};function h(e,t,l,h,b,_){const k=(0,a.g2)("el-descriptions-item"),F=(0,a.g2)("el-descriptions"),v=(0,a.g2)("el-progress"),C=(0,a.g2)("el-col"),y=(0,a.g2)("el-row"),w=(0,a.g2)("el-card"),E=(0,a.g2)("Record"),A=(0,a.g2)("el-scrollbar");return b.proInfo?((0,a.uX)(),(0,a.Wv)(A,{key:0,height:"calc(100vh - 70px)"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",n,(0,o.v_)(b.proInfo.name),1),t[1]||(t[1]=(0,a.Lk)("div",{class:"title"},"【基本信息】",-1)),(0,a.bF)(w,{"body-style":"padding:0px"},{default:(0,a.k6)((()=>[(0,a.bF)(F,{column:4,border:""},{default:(0,a.k6)((()=>[(0,a.bF)(k,{label:"负责人"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(b.proInfo.leader),1)])),_:1}),(0,a.bF)(k,{label:"创建时间"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$date.rTime(b.proInfo.create_time)),1)])),_:1}),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(b.proInfo.info,(e=>((0,a.uX)(),(0,a.Wv)(k,{label:e.name},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.value),1)])),_:2},1032,["label"])))),256))])),_:1}),(0,a.bF)(y,{gutter:20},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(b.proInfo.info,(e=>((0,a.uX)(),(0,a.Wv)(C,{span:4},{default:(0,a.k6)((()=>[(0,a.Lk)("div",s,[(0,a.bF)(v,{type:"dashboard",width:90,percentage:100,"stroke-width":4,color:"#61c2b2"},{default:(0,a.k6)((({percentage:t})=>[(0,a.Lk)("div",i,[(0,a.Lk)("b",r,(0,o.v_)(e.value),1),"执行记录"===e.name?((0,a.uX)(),(0,a.CE)("span",d,"条")):((0,a.uX)(),(0,a.CE)("span",u,"个"))]),(0,a.Lk)("span",c,(0,o.v_)(e.name),1)])),_:2},1024)])])),_:2},1024)))),256))])),_:1})])),_:1}),t[2]||(t[2]=(0,a.Lk)("div",{class:"title"},"【bug统计】",-1)),(0,a.bF)(w,{"body-style":"padding:0px"},{default:(0,a.k6)((()=>[(0,a.bF)(F,{column:4,border:""},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(b.proInfo.bugs,(e=>((0,a.uX)(),(0,a.Wv)(k,{label:e.name},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.value),1)])),_:2},1032,["label"])))),256))])),_:1}),(0,a.bF)(y,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(b.proInfo.bugs,(e=>((0,a.uX)(),(0,a.Wv)(C,{span:6},{default:(0,a.k6)((()=>[(0,a.Lk)("div",m,[(0,a.bF)(v,{type:"circle",width:90,percentage:100,"stroke-width":4,color:"#55aaff"},{default:(0,a.k6)((({percentage:l})=>[(0,a.Lk)("div",f,[(0,a.Lk)("b",p,(0,o.v_)(e.value),1),t[0]||(t[0]=(0,a.Lk)("span",null,"个",-1))]),(0,a.Lk)("span",g,(0,o.v_)(e.name),1)])),_:2},1024)])])),_:2},1024)))),256))])),_:1})])),_:1}),t[3]||(t[3]=(0,a.Lk)("div",{class:"title"},"【执行记录】",-1)),(0,a.bF)(E)])),_:1,__:[1,2,3]})):(0,a.Q3)("",!0)}var b=l(782),_=l(1852),k={data(){return{proInfo:null}},components:{Record:_["default"]},methods:{async getProInfo(){const e=await this.$api.getProjectInfo(this.pro.id);200===e.status&&(this.proInfo=e.data)}},computed:{...(0,b.aH)(["pro"])},created(){this.getProInfo()}},F=l(1241);const v=(0,F.A)(k,[["render",h],["__scopeId","data-v-8b22432c"]]);var C=v},4176:function(e,t,l){l.r(t),l.d(t,{default:function(){return g}});l(4114);var a=l(6768),o=l(4232);const n={class:"list_box"},s={style:{color:"#ffaa00"}},i={style:{color:"#ffaa00"}},r={class:"dialog-footer"};function d(e,t,l,d,u,c){const m=(0,a.g2)("el-button"),f=(0,a.g2)("Paperclip"),p=(0,a.g2)("el-icon"),g=(0,a.g2)("Link"),h=(0,a.g2)("el-menu-item"),b=(0,a.g2)("CirclePlus"),_=(0,a.g2)("el-sub-menu"),k=(0,a.g2)("el-menu"),F=(0,a.g2)("el-scrollbar"),v=(0,a.g2)("el-tab-pane"),C=(0,a.g2)("el-tabs"),y=(0,a.g2)("el-col"),w=(0,a.g2)("CaseEdit"),E=(0,a.g2)("el-row"),A=(0,a.g2)("el-input"),L=(0,a.g2)("el-form-item"),x=(0,a.g2)("el-form"),T=(0,a.g2)("el-dialog");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(E,null,{default:(0,a.k6)((()=>[(0,a.bF)(y,{span:4},{default:(0,a.k6)((()=>[(0,a.Lk)("div",n,[(0,a.bF)(C,{type:"border-card",stretch:""},{default:(0,a.k6)((()=>[(0,a.bF)(m,{onClick:t[0]||(t[0]=t=>e.$router.push({name:"interface"})),style:{width:"100%"},plain:"",type:"success",icon:"Link"},{default:(0,a.k6)((()=>t[4]||(t[4]=[(0,a.eW)("接口管理")]))),_:1,__:[4]}),(0,a.bF)(v,{label:"项目接口"},{default:(0,a.k6)((()=>[(0,a.bF)(F,{height:"calc(100vh - 142px)"},{default:(0,a.k6)((()=>[(0,a.bF)(k,{class:"el-menu-vertical-demo"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.inters1,(e=>((0,a.uX)(),(0,a.Wv)(_,{index:e.name+e.id},{title:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(f)])),_:1}),(0,a.Lk)("span",null,(0,o.v_)(e.name),1)])),default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.steps,(e=>((0,a.uX)(),(0,a.Wv)(h,{onClick:t=>c.selectCase(e),index:e.id.toString()},{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(g)])),_:1}),(0,a.Lk)("span",null,(0,o.v_)(e.title),1)])),_:2},1032,["onClick","index"])))),256)),(0,a.bF)(h,{onClick:t=>c.clickAdd(e.id,e.name),index:e.id+"a"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",s,[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(b)])),_:1}),t[5]||(t[5]=(0,a.Lk)("span",null,"添加用例",-1))])])),_:2},1032,["onClick","index"])])),_:2},1032,["index"])))),256))])),_:1})])),_:1})])),_:1}),(0,a.bF)(v,{label:"外部接口"},{default:(0,a.k6)((()=>[(0,a.bF)(F,{height:"calc(100vh - 142px)"},{default:(0,a.k6)((()=>[(0,a.bF)(k,{"default-active":"2",class:"el-menu-vertical-demo"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.inters2,(e=>((0,a.uX)(),(0,a.Wv)(_,{index:e.name+e.id},{title:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(f)])),_:1}),(0,a.Lk)("span",null,(0,o.v_)(e.name),1)])),default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.steps,(e=>((0,a.uX)(),(0,a.Wv)(h,{onClick:t=>c.selectCase(e),index:e.id.toString()},{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(g)])),_:1}),(0,a.Lk)("span",null,(0,o.v_)(e.title),1)])),_:2},1032,["onClick","index"])))),256)),(0,a.bF)(h,{onClick:t=>c.clickAdd(e.id,e.name),index:e.id+"a"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",i,[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(b)])),_:1}),t[6]||(t[6]=(0,a.Lk)("span",null,"添加用例",-1))])])),_:2},1032,["onClick","index"])])),_:2},1032,["index"])))),256))])),_:1})])),_:1})])),_:1})])),_:1})])])),_:1}),(0,a.bF)(y,{span:20},{default:(0,a.k6)((()=>[(0,a.bF)(F,{height:"calc(100vh - 68px)"},{default:(0,a.k6)((()=>[(0,a.bF)(w,{"edit-case":u.editCase},null,8,["edit-case"])])),_:1})])),_:1})])),_:1}),(0,a.bF)(T,{modelValue:u.addDlg,"onUpdate:modelValue":t[3]||(t[3]=e=>u.addDlg=e),title:u.interfacename+" 添加接口",width:"40%"},{footer:(0,a.k6)((()=>[(0,a.Lk)("span",r,[(0,a.bF)(m,{onClick:t[2]||(t[2]=e=>u.addDlg=!1),size:"small"},{default:(0,a.k6)((()=>t[7]||(t[7]=[(0,a.eW)("取消")]))),_:1,__:[7]}),(0,a.bF)(m,{type:"success",onClick:c.addCase,size:"small"},{default:(0,a.k6)((()=>t[8]||(t[8]=[(0,a.eW)("确定")]))),_:1,__:[8]},8,["onClick"])])])),default:(0,a.k6)((()=>[(0,a.bF)(x,{model:u.addCaseForm},{default:(0,a.k6)((()=>[(0,a.bF)(L,{label:"用例名称"},{default:(0,a.k6)((()=>[(0,a.bF)(A,{modelValue:u.addCaseForm.title,"onUpdate:modelValue":t[1]||(t[1]=e=>u.addCaseForm.title=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"])],64)}var u=l(782),c=l(3999),m={data(){return{editCase:"",name:"",addDlg:!1,addCaseForm:{title:""},interfacename:""}},components:{CaseEdit:c.A},computed:{...(0,u.L8)(["inters1","inters2"])},methods:{...(0,u.i0)(["getAllInterFaces"]),selectCase(e){this.editCase=e},clickAdd(e,t){this.addDlg=!0,this.addCaseForm.interface=e,this.addCaseForm.title="",this.interfacename=t},async addCase(){const e=await this.$api.createTeststep(this.addCaseForm);201===e.status&&(this.addDlg=!1,this.$message({type:"success",message:"添加成功",duration:1e3}),this.getAllInterFaces())}}},f=l(1241);const p=(0,f.A)(m,[["render",d],["__scopeId","data-v-56aca913"]]);var g=p},4342:function(e,t,l){l.r(t),l.d(t,{default:function(){return C}});var a=l(6768),o=l(4232);const n={class:"pros_box"},s={class:"top_box"},i={class:"pro_list"},r=["onClick"],d={class:"pro-icon"},u={class:"pro_name"},c={key:0},m={class:"leader"},f={class:"btns"},p={class:"dialog-footer"},g={class:"dialog-footer"};function h(e,t,l,h,b,_){const k=(0,a.g2)("el-button"),F=(0,a.g2)("Platform"),v=(0,a.g2)("el-icon"),C=(0,a.g2)("el-tooltip"),y=(0,a.g2)("Edit"),w=(0,a.g2)("el-tag"),E=(0,a.g2)("Delete"),A=(0,a.g2)("el-card"),L=(0,a.g2)("Plus"),x=(0,a.g2)("el-input"),T=(0,a.g2)("el-form-item"),P=(0,a.g2)("el-form"),I=(0,a.g2)("el-dialog");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",n,[(0,a.Lk)("div",s,[t[12]||(t[12]=(0,a.Lk)("span",null,"项目列表",-1)),(0,a.bF)(k,{onClick:_.logout,type:"success",icon:"UserFilled"},{default:(0,a.k6)((()=>t[10]||(t[10]=[(0,a.eW)("注销登录")]))),_:1,__:[10]},8,["onClick"]),(0,a.bF)(k,{onClick:t[0]||(t[0]=e=>b.addDlg=!0),type:"success",icon:"CirclePlus"},{default:(0,a.k6)((()=>t[11]||(t[11]=[(0,a.eW)("添加项目")]))),_:1,__:[11]})]),(0,a.Lk)("div",i,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(b.project_list,(e=>((0,a.uX)(),(0,a.Wv)(A,{class:"pro",key:e.id},{default:(0,a.k6)((()=>[(0,a.Lk)("div",{onClick:t=>_.selectPro(e),style:{cursor:"pointer"}},[(0,a.Lk)("div",d,[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(F)])),_:1})]),(0,a.Lk)("div",u,[e.name.length<8?((0,a.uX)(),(0,a.CE)("span",c,(0,o.v_)(e.name),1)):((0,a.uX)(),(0,a.Wv)(C,{key:1,class:"box-item",effect:"dark",content:e.name,placement:"top"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",null,(0,o.v_)(e.name.slice(0,8))+"...",1)])),_:2},1032,["content"]))]),(0,a.Lk)("div",m,"负责人："+(0,o.v_)(e.leader),1)],8,r),(0,a.Lk)("div",f,[(0,a.bF)(w,{onClick:t=>_.clickEdit(e),class:"ml-2",type:"info",color:"#efefef",style:{float:"left"}},{default:(0,a.k6)((()=>[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(y)])),_:1}),t[13]||(t[13]=(0,a.Lk)("span",null,"编 辑",-1))])),_:2,__:[13]},1032,["onClick"]),(0,a.bF)(w,{onClick:t=>_.delPro(e.id),class:"ml-2",type:"info",style:{float:"right"}},{default:(0,a.k6)((()=>[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(E)])),_:1}),t[14]||(t[14]=(0,a.Lk)("span",null,"删 除",-1))])),_:2,__:[14]},1032,["onClick"])])])),_:2},1024)))),128)),(0,a.bF)(A,{onClick:t[1]||(t[1]=e=>b.addDlg=!0),class:"pro",style:{"text-align":"center","line-height":"250px",color:"#d0d0d0",cursor:"pointer"}},{default:(0,a.k6)((()=>[(0,a.bF)(v,{size:50},{default:(0,a.k6)((()=>[(0,a.bF)(L)])),_:1})])),_:1})])]),(0,a.bF)(I,{modelValue:b.addDlg,"onUpdate:modelValue":t[5]||(t[5]=e=>b.addDlg=e),title:"添加项目"},{footer:(0,a.k6)((()=>[(0,a.Lk)("span",p,[(0,a.bF)(k,{onClick:t[4]||(t[4]=e=>b.addDlg=!1)},{default:(0,a.k6)((()=>t[15]||(t[15]=[(0,a.eW)("取消")]))),_:1,__:[15]}),(0,a.bF)(k,{type:"primary",onClick:_.clickAddPro},{default:(0,a.k6)((()=>t[16]||(t[16]=[(0,a.eW)("确认")]))),_:1,__:[16]},8,["onClick"])])])),default:(0,a.k6)((()=>[(0,a.bF)(P,{model:b.addForm,rules:b.rules,"label-width":"100px",ref:"addFormRef"},{default:(0,a.k6)((()=>[(0,a.bF)(T,{label:"项目名称",prop:"name"},{default:(0,a.k6)((()=>[(0,a.bF)(x,{modelValue:b.addForm.name,"onUpdate:modelValue":t[2]||(t[2]=e=>b.addForm.name=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(T,{label:"负责人",prop:"leader"},{default:(0,a.k6)((()=>[(0,a.bF)(x,{modelValue:b.addForm.leader,"onUpdate:modelValue":t[3]||(t[3]=e=>b.addForm.leader=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"]),(0,a.bF)(I,{modelValue:b.editDlg,"onUpdate:modelValue":t[9]||(t[9]=e=>b.editDlg=e),title:"修改项目信息"},{footer:(0,a.k6)((()=>[(0,a.Lk)("span",g,[(0,a.bF)(k,{onClick:t[8]||(t[8]=e=>b.editDlg=!1)},{default:(0,a.k6)((()=>t[17]||(t[17]=[(0,a.eW)("取消")]))),_:1,__:[17]}),(0,a.bF)(k,{type:"primary",onClick:_.editPro},{default:(0,a.k6)((()=>t[18]||(t[18]=[(0,a.eW)("确认")]))),_:1,__:[18]},8,["onClick"])])])),default:(0,a.k6)((()=>[(0,a.bF)(P,{model:b.editForm},{default:(0,a.k6)((()=>[(0,a.bF)(T,{label:"项目名称"},{default:(0,a.k6)((()=>[(0,a.bF)(x,{modelValue:b.editForm.name,"onUpdate:modelValue":t[6]||(t[6]=e=>b.editForm.name=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(T,{label:"负责人"},{default:(0,a.k6)((()=>[(0,a.bF)(x,{modelValue:b.editForm.leader,"onUpdate:modelValue":t[7]||(t[7]=e=>b.editForm.leader=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])],64)}l(4114);var b=l(2933),_=l(1219),k={data(){return{project_list:[],addDlg:!1,addForm:{name:"",leader:""},rules:{name:[{required:!0,message:"请输入项目名称",trigger:"blur"}],leader:[{required:!0,message:"请输入负责人",trigger:"blur"}]},editDlg:!1,editForm:{name:"",leader:""}}},methods:{async getAllProject(){const e=await this.$api.getProjects();200===e.status&&(this.project_list=e.data)},selectPro(e){this.$store.commit("savePro",e),this.$router.push({name:"project"})},logout(){b.s.confirm("确定要退出登录?","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((()=>{window.sessionStorage.removeItem("username"),window.sessionStorage.removeItem("token"),this.$router.push({name:"login"}),(0,_.nk)({type:"success",message:"成功退出登录",duration:1e3})})).catch((()=>{(0,_.nk)({type:"info",message:"已取消退出登录的操作",duration:1e3})}))},async clickAddPro(){const e=await this.$refs.addFormRef.validate().catch((()=>!1));if(!e)return void _.nk.error("请填写项目名称和负责人");const t=await this.$api.createProject(this.addForm);201===t.status&&((0,_.nk)({type:"success",message:"项目添加成功",duration:1e3}),this.addDlg=!1,this.getAllProject())},delPro(e){b.s.confirm("此删除操作不可恢复，是否继续?","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then((async()=>{const t=await this.$api.deleteProject(e);204===t.status&&((0,_.nk)({type:"success",message:"删除成功",duration:1e3}),this.getAllProject())})).catch((()=>{(0,_.nk)({type:"info",message:"已取消操作",duration:1e3})}))},clickEdit(e){this.editDlg=!0,this.editForm={...e}},async editPro(){const e=await this.$api.updateProject(this.editForm.id,this.editForm);200===e.status&&((0,_.nk)({type:"success",message:"修改成功",duration:1e3}),this.editDlg=!1,this.getAllProject())}},created(){this.getAllProject()}},F=l(1241);const v=(0,F.A)(k,[["render",h],["__scopeId","data-v-52d2d243"]]);var C=v},4474:function(e,t,l){l.r(t),l.d(t,{default:function(){return f}});var a=l(6768);const o={class:"dialog-footer"},n={class:"dialog-footer"};function s(e,t,l,s,i,r){const d=(0,a.g2)("el-button"),u=(0,a.g2)("el-table-column"),c=(0,a.g2)("el-table"),m=(0,a.g2)("el-tab-pane"),f=(0,a.g2)("el-tabs"),p=(0,a.g2)("el-input"),g=(0,a.g2)("el-form-item"),h=(0,a.g2)("el-option"),b=(0,a.g2)("el-select"),_=(0,a.g2)("el-form"),k=(0,a.g2)("el-dialog");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(f,{type:"border-card"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{onClick:r.clickAdd,size:"small",type:"success",plain:"",icon:"Plus"},{default:(0,a.k6)((()=>t[12]||(t[12]=[(0,a.eW)("添加接口")]))),_:1,__:[12]},8,["onClick"]),(0,a.bF)(m,{label:"项目接口"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{data:e.inters1,style:{width:"100%"},height:"500"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{prop:"name",label:"接口名称",width:"200"}),(0,a.bF)(u,{prop:"method",label:"请求方法",width:"200"}),(0,a.bF)(u,{prop:"url",label:"接口地址",width:"500"}),(0,a.bF)(u,{label:"操作",width:"200"},{default:(0,a.k6)((e=>[(0,a.bF)(d,{onClick:t=>r.clickEdit(e.row),size:"small",type:"success",plain:"",icon:"Edit"},{default:(0,a.k6)((()=>t[13]||(t[13]=[(0,a.eW)("编辑")]))),_:2,__:[13]},1032,["onClick"]),(0,a.bF)(d,{onClick:t=>r.clickDel(e.row.id),size:"small",type:"danger",plain:"",icon:"Delete"},{default:(0,a.k6)((()=>t[14]||(t[14]=[(0,a.eW)("删除")]))),_:2,__:[14]},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1}),(0,a.bF)(m,{label:"第三方接口"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{data:e.inters2,style:{width:"100%"},height:"500"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{prop:"name",label:"接口名称",width:"200"}),(0,a.bF)(u,{prop:"method",label:"请求方法",width:"200"}),(0,a.bF)(u,{prop:"url",label:"接口地址",width:"500"}),(0,a.bF)(u,{label:"操作",width:"200"},{default:(0,a.k6)((e=>[(0,a.bF)(d,{onClick:t=>r.clickEdit(e.row),size:"small",type:"success",plain:"",icon:"Edit"},{default:(0,a.k6)((()=>t[15]||(t[15]=[(0,a.eW)("编辑")]))),_:2,__:[15]},1032,["onClick"]),(0,a.bF)(d,{onClick:t=>r.clickDel(e.row.id),size:"small",type:"danger",plain:"",icon:"Delete"},{default:(0,a.k6)((()=>t[16]||(t[16]=[(0,a.eW)("删除")]))),_:2,__:[16]},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1})])),_:1}),(0,a.bF)(k,{modelValue:i.addDlg,"onUpdate:modelValue":t[5]||(t[5]=e=>i.addDlg=e),title:"添加接口",width:"40%"},{footer:(0,a.k6)((()=>[(0,a.Lk)("span",o,[(0,a.bF)(d,{onClick:t[4]||(t[4]=e=>i.addDlg=!1),size:"small"},{default:(0,a.k6)((()=>t[17]||(t[17]=[(0,a.eW)("取消")]))),_:1,__:[17]}),(0,a.bF)(d,{type:"success",onClick:r.addInter,size:"small"},{default:(0,a.k6)((()=>t[18]||(t[18]=[(0,a.eW)("确定")]))),_:1,__:[18]},8,["onClick"])])])),default:(0,a.k6)((()=>[(0,a.bF)(_,{model:i.addForm},{default:(0,a.k6)((()=>[(0,a.bF)(g,{label:"接口名称"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{modelValue:i.addForm.name,"onUpdate:modelValue":t[0]||(t[0]=e=>i.addForm.name=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(g,{label:"URL地址"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{modelValue:i.addForm.url,"onUpdate:modelValue":t[1]||(t[1]=e=>i.addForm.url=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(g,{label:"请求方法"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{style:{width:"100%"},modelValue:i.addForm.method,"onUpdate:modelValue":t[2]||(t[2]=e=>i.addForm.method=e),class:"m-2",placeholder:"请求选择请求方法"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{label:"GET",value:"GET"}),(0,a.bF)(h,{label:"POST",value:"POST"}),(0,a.bF)(h,{label:"PUT",value:"PUT"}),(0,a.bF)(h,{label:"PATCH",value:"PATCH"}),(0,a.bF)(h,{label:"DELETE",value:"DELETE"}),(0,a.bF)(h,{label:"DEAD",value:"DEAD"})])),_:1},8,["modelValue"])])),_:1}),(0,a.bF)(g,{label:"接口类型"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{style:{width:"100%"},modelValue:i.addForm.type,"onUpdate:modelValue":t[3]||(t[3]=e=>i.addForm.type=e),class:"m-2",placeholder:"选择接口"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{label:"项目接口",value:"1"}),(0,a.bF)(h,{label:"第三方接口",value:"2"})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,a.bF)(k,{modelValue:i.editDlg,"onUpdate:modelValue":t[11]||(t[11]=e=>i.editDlg=e),title:"修改项接口",width:"40%"},{footer:(0,a.k6)((()=>[(0,a.Lk)("span",n,[(0,a.bF)(d,{onClick:t[10]||(t[10]=e=>i.editDlg=!1),size:"small"},{default:(0,a.k6)((()=>t[19]||(t[19]=[(0,a.eW)("取消")]))),_:1,__:[19]}),(0,a.bF)(d,{type:"success",onClick:r.updateInter,size:"small"},{default:(0,a.k6)((()=>t[20]||(t[20]=[(0,a.eW)("确定")]))),_:1,__:[20]},8,["onClick"])])])),default:(0,a.k6)((()=>[(0,a.bF)(_,{model:i.editForm},{default:(0,a.k6)((()=>[(0,a.bF)(g,{label:"接口名称"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{modelValue:i.editForm.name,"onUpdate:modelValue":t[6]||(t[6]=e=>i.editForm.name=e),modelModifiers:{trim:!0},autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(g,{label:"URL地址"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{modelValue:i.editForm.url,"onUpdate:modelValue":t[7]||(t[7]=e=>i.editForm.url=e),modelModifiers:{trim:!0},autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,a.bF)(g,{label:"请求方法"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{style:{width:"100%"},modelValue:i.editForm.method,"onUpdate:modelValue":t[8]||(t[8]=e=>i.editForm.method=e),class:"m-2",placeholder:"请求选择请求方法"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{label:"GET",value:"GET"}),(0,a.bF)(h,{label:"POST",value:"POST"}),(0,a.bF)(h,{label:"PUT",value:"PUT"}),(0,a.bF)(h,{label:"PATCH",value:"PATCH"}),(0,a.bF)(h,{label:"DELETE",value:"DELETE"}),(0,a.bF)(h,{label:"DEAD",value:"DEAD"})])),_:1},8,["modelValue"])])),_:1}),(0,a.bF)(g,{label:"接口类型"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{style:{width:"100%"},modelValue:i.editForm.type,"onUpdate:modelValue":t[9]||(t[9]=e=>i.editForm.type=e),class:"m-2",placeholder:"选择接口"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{label:"项目接口",value:"1"}),(0,a.bF)(h,{label:"第三方接口",value:"2"})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])],64)}var i=l(782),r=l(2933),d=l(1219),u={data(){return{addDlg:!1,addForm:{name:"",url:"",method:"",type:null,project:""},editDlg:!1,editForm:{name:"",url:"",method:"",type:null,project:""}}},computed:{...(0,i.aH)(["pro"]),...(0,i.L8)(["inters1","inters2"])},methods:{...(0,i.i0)(["getAllInterFaces"]),clickAdd(){this.addDlg=!0,this.addForm={name:"",url:"",method:"",type:null,project:this.pro.id}},clickEdit(e){this.editDlg=!0,this.editForm={...e}},clickDel(e){r.s.confirm("确定要删除该接口吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.delInter(e)})).catch((()=>{(0,d.nk)({type:"info",message:"取消删除",duration:1e3})}))},async addInter(){const e=await this.$api.createInterface(this.addForm);201===e.status&&((0,d.nk)({type:"info",message:"添加成功",duration:1e3}),this.addDlg=!1,this.getAllInterFaces())},async updateInter(){const e=await this.$api.updateInterface(this.editForm.id,this.editForm);200===e.status&&((0,d.nk)({type:"info",message:"修改成功",duration:1e3}),this.editDlg=!1,this.getAllInterFaces())},async delInter(e){const t=await this.$api.delInterface(e);204===t.status&&((0,d.nk)({type:"info",message:"删除成功",duration:1e3}),this.getAllInterFaces())}},created(){this.getAllInterFaces()}},c=l(1241);const m=(0,c.A)(u,[["render",s]]);var f=m},8892:function(e,t,l){l.r(t),l.d(t,{default:function(){return v}});var a=l(6768),o=l.p+"img/log.9b8a27b9.png";const n={class:"card-container"},s={class:"card-item"},i={class:"card-item"},r={class:"login_box"};function d(e,t,l,d,u,c){const m=(0,a.g2)("Link"),f=(0,a.g2)("el-icon"),p=(0,a.g2)("Message"),g=(0,a.g2)("User"),h=(0,a.g2)("el-card"),b=(0,a.g2)("el-input"),_=(0,a.g2)("el-form-item"),k=(0,a.g2)("Lock"),F=(0,a.g2)("el-switch"),v=(0,a.g2)("el-button"),C=(0,a.g2)("el-form"),y=(0,a.g2)("LoginBack");return(0,a.uX)(),(0,a.Wv)(y,null,{default:(0,a.k6)((()=>[(0,a.bF)(h,{class:"info-card top-info-card"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",n,[(0,a.Lk)("div",s,[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.bF)(m)])),_:1}),t[5]||(t[5]=(0,a.Lk)("a",{href:"http://www.myblog.pu.com",target:"_blank",class:"card-text"},"www.myblog.pu.com",-1))]),(0,a.Lk)("div",i,[(0,a.bF)(f,null,{default:(0,a.k6)((()=>t[6]||(t[6]=[(0,a.Lk)("svg",{viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[(0,a.Lk)("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.795-.26.795-.577 0-.285-.01-1.04-.015-2.04-3.34.725-4.043-1.61-4.043-1.61C4.423 18.07 3.633 17.7 3.633 17.7c-1.087-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.809 1.304 3.493.997.109-.775.419-1.305.762-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.77.84 1.235 1.91 1.235 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.795.998.795 2.008 0 2.83-1.7 3.42-3.33.63-.195.52-.765.96-1.38.96-1.65 0-2.995-1.01-2.995-2.27 0-.66.25-1.21.25-1.21-1.26-.18-2.58-.63-2.58-2.83 0-.615.225-1.11.47-1.35-.045-.3-.195-.615.045-1.275 0 0 .555-.18 1.82.69 1.07-.3 2.21-.3 3.28 0 1.075-.67 1.825-.69 1.825-.69.25.66.05 1.05.025 1.275.24.24.47.55.47 1.275 0 2.21-1.335 2.64-2.6 2.83.205.51.38.96.38 1.98 0 1.455-.015 2.625-.015 2.985 0 .285.195.615.8.57A5.02 5.02 0 0 0 12 .297z"})],-1)]))),_:1,__:[6]}),t[7]||(t[7]=(0,a.Lk)("a",{href:"https://github.com/yourname",target:"_blank",class:"card-text"},"github.com/yourname",-1))]),(0,a.Lk)("div",{class:"card-item",onClick:t[0]||(t[0]=e=>c.copyText("yourname@example.com"))},[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.bF)(p)])),_:1}),t[8]||(t[8]=(0,a.Lk)("span",{class:"card-text copy-text"},"yourname@example.com",-1))]),(0,a.Lk)("div",{class:"card-item",onClick:t[1]||(t[1]=e=>c.copyText("张三"))},[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.bF)(g)])),_:1}),t[9]||(t[9]=(0,a.Lk)("span",{class:"card-text copy-text"},"张三",-1))])])])),_:1}),(0,a.Lk)("div",r,[t[11]||(t[11]=(0,a.Lk)("div",{class:"title"},[(0,a.Lk)("img",{src:o})],-1)),(0,a.bF)(C,{model:u.loginForm,rules:u.loginRules,ref:"loginRef"},{default:(0,a.k6)((()=>[(0,a.bF)(_,{prop:"username"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{modelValue:u.loginForm.username,"onUpdate:modelValue":t[2]||(t[2]=e=>u.loginForm.username=e),placeholder:"请输入账号"},{prefix:(0,a.k6)((()=>[(0,a.bF)(f,{size:24,color:"#fff"},{default:(0,a.k6)((()=>[(0,a.bF)(g)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.bF)(_,{prop:"password"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{modelValue:u.loginForm.password,"onUpdate:modelValue":t[3]||(t[3]=e=>u.loginForm.password=e),type:"password",placeholder:"请输入密码"},{prefix:(0,a.k6)((()=>[(0,a.bF)(f,{size:24,color:"#fff"},{default:(0,a.k6)((()=>[(0,a.bF)(k)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,a.bF)(_,{label:"记住用户"},{default:(0,a.k6)((()=>[(0,a.bF)(F,{style:{"--el-switch-on-color":"#0071a5","--el-switch-off-color":"#e3e3e3"},modelValue:u.loginForm.status,"onUpdate:modelValue":t[4]||(t[4]=e=>u.loginForm.status=e)},null,8,["modelValue"])])),_:1}),(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.bF)(v,{color:"#0071a6",type:"primary",onClick:c.clickLogin,style:{width:"100%"}},{default:(0,a.k6)((()=>t[10]||(t[10]=[(0,a.eW)("登 录")]))),_:1,__:[10]},8,["onClick"])])),_:1})])),_:1},8,["model","rules"])])])),_:1})}l(4114);const u={class:"waves",id:"waves"},c={class:"box"};function m(e,t,l,o,n,s){return(0,a.uX)(),(0,a.CE)("div",u,[(0,a.Lk)("div",c,[(0,a.RG)(e.$slots,"default",{},void 0,!0)])])}l(8111),l(7588);var f={mounted(){class e{constructor(e,t={}){t=Object.assign({antialias:!1,depthTest:!1,mousemove:!1,autosize:!0,side:"front",vertex:"\n\t\t\t        precision highp float;\n\t\t\t\n\t\t\t        attribute vec4 a_position;\n\t\t\t        attribute vec4 a_color;\n\t\t\t\n\t\t\t        uniform float u_time;\n\t\t\t        uniform vec2 u_resolution;\n\t\t\t        uniform vec2 u_mousemove;\n\t\t\t        uniform mat4 u_projection;\n\t\t\t\n\t\t\t        varying vec4 v_color;\n\t\t\t\n\t\t\t        void main() {\n\t\t\t\n\t\t\t          gl_Position = u_projection * a_position;\n\t\t\t          gl_PointSize = (10.0 / gl_Position.w) * 100.0;\n\t\t\t\n\t\t\t          v_color = a_color;\n\t\t\t\n\t\t\t        }",fragment:"\n\t\t\t        precision highp float;\n\t\t\t\n\t\t\t        uniform sampler2D u_texture;\n\t\t\t        uniform int u_hasTexture;\n\t\t\t\n\t\t\t        varying vec4 v_color;\n\t\t\t\n\t\t\t        void main() {\n\t\t\t\n\t\t\t          if ( u_hasTexture == 1 ) {\n\t\t\t\n\t\t\t            gl_FragColor = v_color * texture2D(u_texture, gl_PointCoord);\n\t\t\t\n\t\t\t          } else {\n\t\t\t\n\t\t\t            gl_FragColor = v_color;\n\t\t\t\n\t\t\t          }\n\t\t\t\n\t\t\t        }",uniforms:{},buffers:{},camera:{},texture:null,onUpdate:()=>{},onResize:()=>{}},t);const l=Object.assign({time:{type:"float",value:0},hasTexture:{type:"int",value:0},resolution:{type:"vec2",value:[0,0]},mousemove:{type:"vec2",value:[0,0]},projection:{type:"mat4",value:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},t.uniforms),a=Object.assign({position:{size:3,data:[]},color:{size:4,data:[]}},t.buffers),o=Object.assign({fov:60,near:1,far:1e4,aspect:1,z:100,perspective:!0},t.camera),n=document.createElement("canvas"),s=n.getContext("webgl",{antialias:t.antialias});if(!s)return!1;this.count=0,this.gl=s,this.canvas=n,this.camera=o,this.holder=e,this.onUpdate=t.onUpdate,this.onResize=t.onResize,this.data={},e.appendChild(n),this.createProgram(t.vertex,t.fragment),this.createBuffers(a),this.createUniforms(l),this.updateBuffers(),this.updateUniforms(),this.createTexture(t.texture),s.enable(s.BLEND),s.enable(s.CULL_FACE),s.blendFunc(s.SRC_ALPHA,s.ONE),s[t.depthTest?"enable":"disable"](s.DEPTH_TEST),t.autosize&&window.addEventListener("resize",(e=>this.resize(e)),!1),t.mousemove&&window.addEventListener("mousemove",(e=>this.mousemove(e)),!1),this.resize(),this.update=this.update.bind(this),this.time={start:performance.now(),old:performance.now()},this.update()}mousemove(e){let t=e.pageX/this.width*2-1,l=e.pageY/this.height*2-1;this.uniforms.mousemove=[t,l]}resize(e){const t=this.holder,l=this.canvas,a=this.gl,o=this.width=t.offsetWidth,n=this.height=t.offsetHeight,s=this.aspect=o/n,i=this.dpi=devicePixelRatio;l.width=o*i,l.height=n*i,l.style.width=o+"px",l.style.height=n+"px",a.viewport(0,0,o*i,n*i),a.clearColor(0,0,0,0),this.uniforms.resolution=[o,n],this.uniforms.projection=this.setProjection(s),this.onResize(o,n,i)}setProjection(e){const t=this.camera;if(t.perspective){t.aspect=e;const l=t.fov*(Math.PI/180),a=Math.tan(.5*Math.PI-.5*l),o=1/(t.near-t.far),n=[a/t.aspect,0,0,0,0,a,0,0,0,0,(t.near+t.far)*o,-1,0,0,t.near*t.far*o*2,0];return n[14]+=t.z,n[15]+=t.z,n}return[2/this.width,0,0,0,0,-2/this.height,0,0,0,0,1,0,-1,1,0,1]}createShader(e,t){const l=this.gl,a=l.createShader(e);if(l.shaderSource(a,t),l.compileShader(a),l.getShaderParameter(a,l.COMPILE_STATUS))return a;console.log(l.getShaderInfoLog(a)),l.deleteShader(a)}createProgram(e,t){const l=this.gl,a=this.createShader(l.VERTEX_SHADER,e),o=this.createShader(l.FRAGMENT_SHADER,t),n=l.createProgram();l.attachShader(n,a),l.attachShader(n,o),l.linkProgram(n),l.getProgramParameter(n,l.LINK_STATUS)?(l.useProgram(n),this.program=n):(console.log(l.getProgramInfoLog(n)),l.deleteProgram(n))}createUniforms(e){const t=this.gl,l=this.data.uniforms=e,a=this.uniforms={};Object.keys(l).forEach((e=>{const o=l[e];o.location=t.getUniformLocation(this.program,"u_"+e),Object.defineProperty(a,e,{set:t=>{l[e].value=t,this.setUniform(e,t)},get:()=>l[e].value})}))}setUniform(e,t){const l=this.gl,a=this.data.uniforms[e];switch(a.value=t,a.type){case"int":l.uniform1i(a.location,t);break;case"float":l.uniform1f(a.location,t);break;case"vec2":l.uniform2f(a.location,...t);break;case"vec3":l.uniform3f(a.location,...t);break;case"vec4":l.uniform4f(a.location,...t);break;case"mat2":l.uniformMatrix2fv(a.location,!1,t);break;case"mat3":l.uniformMatrix3fv(a.location,!1,t);break;case"mat4":l.uniformMatrix4fv(a.location,!1,t);break}}updateUniforms(){this.gl;const e=this.data.uniforms;Object.keys(e).forEach((t=>{const l=e[t];this.uniforms[t]=l.value}))}createBuffers(e){this.gl;const t=this.data.buffers=e,l=this.buffers={};Object.keys(t).forEach((e=>{const a=t[e];a.buffer=this.createBuffer("a_"+e,a.size),Object.defineProperty(l,e,{set:l=>{t[e].data=l,this.setBuffer(e,l),"position"==e&&(this.count=t.position.data.length/3)},get:()=>t[e].data})}))}createBuffer(e,t){const l=this.gl,a=this.program,o=l.getAttribLocation(a,e),n=l.createBuffer();return l.bindBuffer(l.ARRAY_BUFFER,n),l.enableVertexAttribArray(o),l.vertexAttribPointer(o,t,l.FLOAT,!1,0,0),n}setBuffer(e,t){const l=this.gl,a=this.data.buffers;(null!=e||l.bindBuffer(l.ARRAY_BUFFER,null))&&(l.bindBuffer(l.ARRAY_BUFFER,a[e].buffer),l.bufferData(l.ARRAY_BUFFER,new Float32Array(t),l.STATIC_DRAW))}updateBuffers(){this.gl;const e=this.buffers;Object.keys(e).forEach((t=>e[t]=buffer.data)),this.setBuffer(null)}createTexture(e){const t=this.gl,l=t.createTexture();t.bindTexture(t.TEXTURE_2D,l),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([0,0,0,0])),this.texture=l,e&&(this.uniforms.hasTexture=1,this.loadTexture(e))}loadTexture(e){const t=this.gl,l=this.texture,a=new Image;a.onload=()=>{t.bindTexture(t.TEXTURE_2D,l),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,a),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},a.src=e}update(){const e=this.gl,t=performance.now(),l=(t-this.time.start)/5e3,a=t-this.time.old;this.time.old=t,this.uniforms.time=l,this.count>0&&e.drawArrays(e.POINTS,0,this.count),this.onUpdate(a),requestAnimationFrame(this.update)}}const t=3;new e(document.querySelector("#waves"),{texture:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAb1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8v0wLRAAAAJHRSTlMAC/goGvDhmwcExrVjWzrm29TRqqSKenRXVklANSIUE8mRkGpv+HOfAAABCElEQVQ4y4VT13LDMAwLrUHteO+R9f/fWMfO6dLaPeKVEECRxOULWsEGpS9nULDwia2Y+ALqUNbAWeg775zv+sA4/FFRMxt8U2FZFCVWjR/YrH4/H9sarclSKdPMWKzb8VsEeHB3m0shkhVCyNzeXeAQ9Xl4opEieX2QCGnwGbj6GMyjw9t1K0fK9YZunPXeAGsfJtYjwzxaBnozGGorYz0ypK2HzQSYx1y8DgSRo2ewOiyh2QWOEk1Y9OrQV0a8TiBM1a8eMHWYnRMy7CZ4t1CmyRkhSUvP3gRXyHOCLBxNoC3IJv//ZrJ/kxxUHPUB+6jJZZHrpg6GOjnqaOmzp4NDR48OLxn/H27SRQ08S0ZJAAAAAElFTkSuQmCC",uniforms:{size:{type:"float",value:t},field:{type:"vec3",value:[0,0,0]},speed:{type:"float",value:5}},vertex:"\n\t\t\t    #define M_PI 3.1415926535897932384626433832795\n\t\t\t\n\t\t\t    precision highp float;\n\t\t\t\n\t\t\t    attribute vec4 a_position;\n\t\t\t    attribute vec4 a_color;\n\t\t\t\n\t\t\t    uniform float u_time;\n\t\t\t    uniform float u_size;\n\t\t\t    uniform float u_speed;\n\t\t\t    uniform vec3 u_field;\n\t\t\t    uniform mat4 u_projection;\n\t\t\t\n\t\t\t    varying vec4 v_color;\n\t\t\t\n\t\t\t    void main() {\n\t\t\t\n\t\t\t      vec3 pos = a_position.xyz;\n\t\t\t\n\t\t\t      pos.y += (\n\t\t\t        cos(pos.x / u_field.x * M_PI * 8.0 + u_time * u_speed) +\n\t\t\t        sin(pos.z / u_field.z * M_PI * 8.0 + u_time * u_speed)\n\t\t\t      ) * u_field.y;\n\t\t\t\n\t\t\t      gl_Position = u_projection * vec4( pos.xyz, a_position.w );\n\t\t\t      gl_PointSize = ( u_size / gl_Position.w ) * 100.0;\n\t\t\t\n\t\t\t      v_color = a_color;\n\t\t\t\n\t\t\t    }",fragment:"\n\t\t\t    precision highp float;\n\t\t\t\n\t\t\t    uniform sampler2D u_texture;\n\t\t\t\n\t\t\t    varying vec4 v_color;\n\t\t\t\n\t\t\t    void main() {\n\t\t\t\n\t\t\t      gl_FragColor = v_color * texture2D(u_texture, gl_PointCoord);\n\t\t\t\n\t\t\t    }",onResize(e,l,a){const o=[],n=[],s=e/l*400,i=400,r=3,d=5;for(let t=0;t<s;t+=d)for(let e=0;e<i;e+=d)o.push(-s/2+t,-30,-i/2+e),n.push(0,1-t/s*1,.5+t/s*.5,e/i);this.uniforms.field=[s,r,i],this.buffers.position=o,this.buffers.color=n,this.uniforms.size=l/400*t*a}})}},p=l(1241);const g=(0,p.A)(f,[["render",m],["__scopeId","data-v-ae283132"]]);var h=g,b=l(1219),_=l(7477),k={components:{LoginBack:h,Link:_.Link,Message:_.Message,User:_.User},data(){return{loginForm:{username:"",password:"",status:!1},loginRules:{username:[{required:!0,message:"账号不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},methods:{async copyText(e){try{await navigator.clipboard.writeText(e),this.$message.success("复制成功")}catch(t){this.$message.error("复制失败，请手动复制")}},clickLogin(){this.$refs["loginRef"].validate((e=>{e&&this.loginRequest()}))},async loginRequest(){const e=await this.$api.loginApi(this.loginForm);if(console.log(e),200===e.status&&200===e.data.status){if(window.sessionStorage.setItem("token",e.data.token),window.sessionStorage.setItem("username",this.loginForm.username),this.loginForm.status){const e=JSON.stringify(this.loginForm);window.localStorage.setItem("userInfo",e)}this.$router.push({name:"allpro"}),(0,b.nk)({message:"登录成功",type:"success"})}else(0,b.nk)({message:e.data.message,type:"error"})}},created(){const e=window.localStorage.getItem("userInfo");e&&(this.loginForm=JSON.parse(e))}};const F=(0,p.A)(k,[["render",d]]);var v=F}}]);
//# sourceMappingURL=about.5c3baaf3.js.map