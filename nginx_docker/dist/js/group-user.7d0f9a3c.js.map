{"version":3,"file":"js/group-user.7d0f9a3c.js","mappings":"8MAmCSA,MAAA,wBAA2BC,KAAK,S,SACZD,MAAA,2C,SACVA,MAAA,2C,GAyEVC,KAAK,SAASC,MAAM,gBAAgBF,MAAA,yB,4XA7G3CG,EAAAA,EAAAA,IAEYC,EAAA,CAFAC,QAAKC,EAAA,KAAAA,EAAA,GAAAC,IAAEC,EAAAC,YAAU,EAAMD,EAAAE,WAAS,IAAQV,MAAA,oBAA0BW,KAAK,UAAUC,KAAK,eACvFC,KAAK,S,mBAAQ,IACxBP,EAAA,MAAAA,EAAA,cADwB,e,eAGxBH,EAAAA,EAAAA,IA0BWW,EAAA,CA1BAC,KAAMP,EAAAQ,SAAUhB,MAAA,eAAoBa,KAAK,S,mBAClD,IAIkB,EAJlBV,EAAAA,EAAAA,IAIkBc,EAAA,CAJDC,MAAM,OAAO,YAAU,O,CAC3BC,SAAOC,EAAAA,EAAAA,KACwBC,GADjB,mBACpBC,EAAAC,MAAMC,MAAMH,EAAMI,IAAIC,cAAW,M,OAGxCvB,EAAAA,EAAAA,IAA0Ec,EAAA,CAAzDU,KAAK,OAAOT,MAAM,KAAK,YAAU,SAClDf,EAAAA,EAAAA,IAAiFc,EAAA,CAAhEU,KAAK,YAAYT,MAAM,OAAO,YAAU,SACzDf,EAAAA,EAAAA,IAAgFc,EAAA,CAA/DU,KAAK,WAAWT,MAAM,OAAO,YAAU,SACxDf,EAAAA,EAAAA,IAA4Ec,EAAA,CAA3DU,KAAK,OAAOT,MAAM,OAAO,YAAU,SACpDf,EAAAA,EAAAA,IAKkBc,EAAA,CALDC,MAAM,OAAO,YAAU,O,CAC3BC,SAAOC,EAAAA,EAAAA,KAEgCC,GAFzB,EACvBlB,EAAAA,EAAAA,IACgDyB,EAAA,CADpCC,SAAMtB,GAAEuB,EAAAC,iBAAiBV,EAAMI,K,WAAeJ,EAAMI,IAAIO,O,yBAAVX,EAAMI,IAAIO,OAAMzB,EAAE,eAAa,UAC9E,iBAAe,W,kEAG9BJ,EAAAA,EAAAA,IASkBc,EAAA,CATDC,MAAM,KAAK,YAAU,O,CACzBC,SAAOC,EAAAA,EAAAA,KAGHC,GAHU,EACvBlB,EAAAA,EAAAA,IAEa8B,EAAA,CAFD/B,MAAM,OAAOgC,OAAO,OAAOC,QAAQ,KAAKC,UAAU,O,mBAC5D,IAAqG,EAArGjC,EAAAA,EAAAA,IAAqGC,EAAA,CAAzFC,QAAKE,GAAEuB,EAAAO,kBAAkBhB,EAAMI,KAAMd,KAAK,UAAUE,KAAK,QAAQD,KAAK,Q,mCAEpFT,EAAAA,EAAAA,IAEa8B,EAAA,CAFD/B,MAAM,OAAOgC,OAAO,OAAOC,QAAQ,KAAKC,UAAU,O,mBAC5D,IAA+F,EAA/FjC,EAAAA,EAAAA,IAA+FC,EAAA,CAAnFC,QAAKE,GAAEuB,EAAAQ,QAAQjB,EAAMI,IAAIc,IAAK5B,KAAK,SAASE,KAAK,QAAQD,KAAK,U,gEAOlFT,EAAAA,EAAAA,IAiFYqC,EAAA,C,WAjFQhC,EAAAC,W,qCAAAD,EAAAC,WAAUF,GAAEkC,MAAM,O,mBACpC,IAGM,EAHNC,EAAAA,EAAAA,IAGM,MAHNC,EAGM,CAFQnC,EAAAE,YAAS,WAArBkC,EAAAA,EAAAA,IAAkF,OAAlFC,EAAmE,eAAQ,WAC3ED,EAAAA,EAAAA,IAAwE,OAAxEE,EAAyD,gBAE3D3C,EAAAA,EAAAA,IAsEU4C,EAAA,CAtEAC,MAAOxC,EAAAyC,YAAaC,IAAI,cAAc,cAAY,Q,mBAC1D,IAEe,EAFf/C,EAAAA,EAAAA,IAEegD,EAAA,CAFDjC,MAAM,MAAI,C,kBACtB,IAAgD,EAAhDf,EAAAA,EAAAA,IAAgDiD,EAAA,C,WAA7B5C,EAAAyC,YAAYI,K,qCAAZ7C,EAAAyC,YAAYI,KAAI9C,I,iCAErCJ,EAAAA,EAAAA,IAKegD,EAAA,CALDjC,MAAM,QAAM,C,kBACxB,IAGY,EAHZf,EAAAA,EAAAA,IAGYmD,EAAA,C,WAHQ9C,EAAAyC,YAAYM,I,qCAAZ/C,EAAAyC,YAAYM,IAAGhD,GAAEiD,YAAY,QAAQxD,MAAA,gB,mBAC5C,IAAwB,gBAAnC4C,EAAAA,EAAAA,IACYa,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IADcpC,EAAAqC,UAARC,K,WAAlBC,EAAAA,EAAAA,IACYC,EAAA,CADyBC,IAAKH,EAAKrB,GAAKrB,MAAO0C,EAAKP,KAAOW,MAAOJ,EAAKrB,I,uEAIvFpC,EAAAA,EAAAA,IASegD,EAAA,CATDjC,MAAM,QAAM,C,kBACxB,IAOY,EAPZf,EAAAA,EAAAA,IAOYmD,EAAA,CAPDtD,MAAA,e,WAA8BQ,EAAAyC,YAAYgB,K,qCAAZzD,EAAAyC,YAAYgB,KAAI1D,GAAEiD,YAAY,O,mBAEjE,IAAyB,gBAD7BZ,EAAAA,EAAAA,IAKYa,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAJOpC,EAAA4C,WAARN,K,WADXC,EAAAA,EAAAA,IAKYC,EAAA,CAHPC,IAAKH,EAAKrB,GACVrB,MAAO0C,EAAKP,KACZW,MAAOJ,EAAKrB,I,uEAIrBpC,EAAAA,EAAAA,IAMegD,EAAA,CANDjC,MAAM,QAAM,C,kBACxB,IAIY,EAJZf,EAAAA,EAAAA,IAIYyB,EAAA,C,WAHCpB,EAAAyC,YAAYjB,O,qCAAZxB,EAAAyC,YAAYjB,OAAMzB,GAC3B,eAAa,UACb,iBAAe,W,iCAIrBJ,EAAAA,EAAAA,IAyCegD,EAAA,CAzCDjC,MAAM,QAAM,C,kBACxB,IAAwE,EAAxEf,EAAAA,EAAAA,IAAwEiD,EAAA,C,WAArD5C,EAAAyC,YAAYkB,K,qCAAZ3D,EAAAyC,YAAYkB,KAAI5D,GAAEiD,YAAY,a,wBACjDrD,EAAAA,EAAAA,IAsCSiE,EAAA,CAtCAC,OAAQ,IAAE,C,kBACjB,IAoBS,EApBTlE,EAAAA,EAAAA,IAoBSmE,EAAA,CApBAC,KAAM,IAAE,C,kBACf,IAAcjE,EAAA,MAAAA,EAAA,MAAdoC,EAAAA,EAAAA,IAAc,UAAV,SAAK,IACTA,EAAAA,EAAAA,IAEe,OAFV1C,MAAA,2CAA2C,UAAC,eAAU0C,EAAAA,EAAAA,IAElD,QAFwD1C,MAAA,mBAAsB,sCAErF,IACF0C,EAAAA,EAAAA,IAC4D,OADvD1C,MAAA,2CAA0C,UAAC,aAAQ0C,EAAAA,EAAAA,IACF,QAAlD1C,MAAA,mBAAsB,2BAAqB,IAC/C0C,EAAAA,EAAAA,IAEM,OAFD1C,MAAA,2CAA0C,UAAC,UAAK0C,EAAAA,EAAAA,IACC,QAAlD1C,MAAA,mBAAsB,2BAAqB,IAE/C0C,EAAAA,EAAAA,IAEM,OAFD1C,MAAA,2CAA0C,UAAC,UAAK0C,EAAAA,EAAAA,IACa,QAA9D1C,MAAA,mBAAsB,uCAAiC,IAE3D0C,EAAAA,EAAAA,IAEM,OAFD1C,MAAA,2CAA0C,UAAC,SAAI0C,EAAAA,EAAAA,IACE,QAAlD1C,MAAA,mBAAsB,2BAAqB,IAE/C0C,EAAAA,EAAAA,IAEM,OAFD1C,MAAA,2CAA0C,UAAC,WAAM0C,EAAAA,EAAAA,IACA,QAAlD1C,MAAA,mBAAsB,2BAAqB,O,eAIjDG,EAAAA,EAAAA,IAeSmE,EAAA,CAfAC,KAAM,IAAE,C,kBACf,IAAcjE,EAAA,MAAAA,EAAA,MAAdoC,EAAAA,EAAAA,IAAc,UAAV,SAAK,IACTA,EAAAA,EAAAA,IAEM,OAFD1C,MAAA,2CAAyC,UAAC,iBAAY0C,EAAAA,EAAAA,IACZ,QAA3C1C,MAAA,mBAAsB,oBAAc,IAExC0C,EAAAA,EAAAA,IAEe,OAFV1C,MAAA,2CAAyC,UAAC,kBAAa0C,EAAAA,EAAAA,IAEnD,QADL1C,MAAA,mBAAsB,uBACxB,IACF0C,EAAAA,EAAAA,IAEQ,OAFH1C,MAAA,2CAAyC,UAAC,kBAAa0C,EAAAA,EAAAA,IAE1D,QADE1C,MAAA,mBAAsB,wBAC/B,IACK0C,EAAAA,EAAAA,IAC0B,OADrB1C,MAAA,2CAAyC,UAAC,kBAAa0C,EAAAA,EAAAA,IACxC,QAD8C1C,MAAA,mBAAsB,wBAC3E,IACb0C,EAAAA,EAAAA,IACwD,OADnD1C,MAAA,2CAAyC,UAAC,kBAAa0C,EAAAA,EAAAA,IACV,QAA9C1C,MAAA,mBAAsB,uBAAiB,O,sDAKnD0C,EAAAA,EAAAA,IAIM,MAJN8B,EAIM,EAHJrE,EAAAA,EAAAA,IAAiEC,EAAA,CAArDC,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEC,EAAAC,YAAU,GAAQI,KAAK,S,mBAAQ,IAAGP,EAAA,MAAAA,EAAA,cAAH,W,cACjCE,EAAAE,YAAS,WAA1BmD,EAAAA,EAAAA,IAA8FzD,EAAA,C,MAAlEO,KAAK,UAAWN,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEuB,EAAA2C,cAAc5D,KAAK,S,mBAAQ,IAAIP,EAAA,MAAAA,EAAA,cAAJ,Y,4BAC9EuD,EAAAA,EAAAA,IAAmFzD,EAAA,C,MAAjEO,KAAK,UAAWN,QAAKC,EAAA,KAAAA,EAAA,GAAAC,GAAEuB,EAAA4C,cAAc7D,KAAK,S,mBAAQ,IAAGP,EAAA,MAAAA,EAAA,cAAH,W,6DAS1E,GAEES,IAAAA,GACE,MAAO,CAELC,SAAU,KACVP,YAAY,EACZC,WAAW,EAEXuC,YAAa,CACXI,KAAM,WACNc,KAAM,YACNnC,QAAQ,EACRiC,KAAM,KACNV,IAAK,MAEPoB,SAAS,EAEb,EACAC,SAAU,KACLC,EAAAA,EAAAA,IAAS,CAAC,MAAO,WAAY,eAElCC,QAAS,KACJC,EAAAA,EAAAA,IAAW,CAAC,aAAc,eAC7B,iBAAMC,GACJC,KAAKN,SAAU,QACTO,QAAQC,IAAI,CAACF,KAAKG,aAAcH,KAAKI,eAC3CJ,KAAKN,SAAU,CACjB,EACA,gBAAMW,GACJ,MAAMC,QAAiBN,KAAKO,KAAKC,SAASR,KAAKS,IAAInD,IAC3B,MAApBgD,EAASvD,SACXiD,KAAKjE,SAAWuE,EAASxE,KAE7B,EACAuB,OAAAA,CAAQC,GACN0C,KAAKU,SAAS,uBAAwB,KAAM,CAC1CC,kBAAmB,KACnBC,iBAAkB,KAClBlF,KAAM,YAEHmF,MAAKC,UAEJ,MAAMR,QAAiBN,KAAKO,KAAKlD,QAAQC,GACjB,MAApBgD,EAASvD,SACXiD,KAAKe,SAAS,CACZrF,KAAM,UACNsF,QAAS,UAGXhB,KAAKK,iBAGRY,OAAM,KACLjB,KAAKe,SAAS,CACZrF,KAAM,OACNsF,QAAS,YAGnB,EAEA,sBAAMlE,CAAiBoE,GACrB,MAAMZ,QAAiBN,KAAKO,KAAKY,WAAWD,EAAK5D,GAAI4D,GAC7B,MAApBZ,EAASvD,OACQ,GAAfmE,EAAKnE,OACPiD,KAAKe,SAAS,CACZrF,KAAM,UACNsF,QAAS,UACTI,SAAU,MAGZpB,KAAKe,SAAS,CACZrF,KAAM,UACNsF,QAAS,UACTI,SAAU,MAIdpB,KAAKe,SAAS,CACZrF,KAAM,QACNsF,QAAS,SACTI,SAAU,KAGhB,EAGA,gBAAM3B,GACJ,MAAM4B,EAAS,CACbC,QAAStB,KAAKS,IAAInD,MACf0C,KAAKhC,aAEJsC,QAAiBN,KAAKO,KAAKd,WAAW4B,GACpB,MAApBf,EAASvD,QACXiD,KAAKe,SAAS,CACZrF,KAAM,UACNsF,QAAS,WACTI,SAAU,MAEZpB,KAAKxE,YAAa,EAClBwE,KAAKK,cAELL,KAAKe,SAAS,CACZrF,KAAM,QACNsF,QAAS,YAAcV,EAASxE,KAAKsC,KACrCgD,SAAU,KAGhB,EAGAhE,iBAAAA,CAAkB8D,GAChBlB,KAAKhC,YAAc,IAAIkD,GACvBlB,KAAKxE,YAAa,EAElBwE,KAAKvE,WAAY,CACnB,EAGA,gBAAM+D,GACJ,MAAMc,QAAiBN,KAAKO,KAAKY,WAAWnB,KAAKhC,YAAYV,GAAI0C,KAAKhC,aAC9C,MAApBsC,EAASvD,SACXiD,KAAKe,SAAS,CACZrF,KAAM,UACNsF,QAAS,OACTI,SAAU,MAEZpB,KAAKxE,YAAa,EAClBwE,KAAKK,aAET,GAGFkB,OAAAA,GACEvB,KAAKK,aACLL,KAAKG,aACLH,KAAKI,YACP,G,UC9PF,MAAMoB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://api_test_platform/./src/views/CronTab.vue","webpack://api_test_platform/./src/views/CronTab.vue?b5f5"],"sourcesContent":["<template>\n  <el-button @click='dialogCron=true;updateBtn=false' style=\"margin: 10px 5px;\" type=\"success\" icon=\"el-icon-plus\"\n             size=\"small\">添加定时任务\n  </el-button>\n\n  <el-table :data=\"cronList\" style=\"width: 100%\" size=\"small\">\n    <el-table-column label=\"创建时间\" min-width=\"180\">\n      <template #default=\"scope\">\n        {{ $date.rTime(scope.row.create_time) }}\n      </template>\n    </el-table-column>\n    <el-table-column prop=\"name\" label=\"名称\" min-width=\"140\"></el-table-column>\n    <el-table-column prop=\"plan_name\" label=\"执行任务\" min-width=\"140\"></el-table-column>\n    <el-table-column prop=\"env_name\" label=\"执行环境\" min-width=\"140\"></el-table-column>\n    <el-table-column prop=\"rule\" label=\"执行规则\" min-width=\"140\"></el-table-column>\n    <el-table-column label=\"是否开启\" min-width=\"120\">\n      <template #default=\"scope\">\n        <el-switch @change='switchCronStatus(scope.row)' v-model=\"scope.row.status\" active-color=\"#13ce66\"\n                   inactive-color=\"#b1b1b1\"></el-switch>\n      </template>\n    </el-table-column>\n    <el-table-column label=\"操作\" min-width=\"100\">\n      <template #default=\"scope\">\n        <el-tooltip class=\"item\" effect=\"dark\" content=\"编辑\" placement=\"top\">\n          <el-button @click='showUpdateCronDlg(scope.row)' type=\"success\" size=\"small\" icon=\"Edit\"></el-button>\n        </el-tooltip>\n        <el-tooltip class=\"item\" effect=\"dark\" content=\"删除\" placement=\"top\">\n          <el-button @click=\"delCron(scope.row.id)\" type=\"danger\" size=\"small\" icon=\"Delete\"></el-button>\n        </el-tooltip>\n      </template>\n    </el-table-column>\n  </el-table>\n\n  <!-- 创建or修改定时任务的窗口 -->\n  <el-dialog v-model=\"dialogCron\" width=\"45%\">\n    <div style=\"text-align: center\" slot='title'>\n      <span v-if=\"updateBtn\" style=\"font-size: 18px; font-weight: bold;\">修改定时执行任务</span>\n      <span v-else style=\"font-size: 18px; font-weight: bold;\">创建定时执行任务</span>\n    </div>\n    <el-form :model=\"cronTabData\" ref=\"cronTabData\" label-width=\"80px\">\n      <el-form-item label=\"名称\">\n        <el-input v-model=\"cronTabData.name\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"测试环境\">\n        <el-select v-model=\"cronTabData.env\" placeholder=\"请选择环境\" style=\"width: 100%;\">\n          <el-option v-for=\"item in testEnvs\" :key=\"item.id\" :label=\"item.name\" :value=\"item.id\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"执行计划\">\n        <el-select style=\"width: 100%;\" v-model=\"cronTabData.plan\" placeholder=\"请选择\">\n          <el-option\n              v-for=\"item in testPlans\"\n              :key=\"item.id\"\n              :label=\"item.name\"\n              :value=\"item.id\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"是否开启\">\n        <el-switch\n            v-model=\"cronTabData.status\"\n            active-color=\"#13ce66\"\n            inactive-color=\"#c3c3c3\">\n        </el-switch>\n      </el-form-item>\n\n      <el-form-item label=\"定时规则\">\n        <el-input v-model=\"cronTabData.rule\" placeholder=\"* * * * *\"></el-input>\n        <el-row :gutter=\"20\">\n          <el-col :span=\"14\">\n            <h5>规则说明:</h5>\n            <div style=\"font-size: 12px; line-height: 16px;\">* * * * * <span style=\"color:#909399\">分别表示\n\t\t\t\t\t\t\t\tminute hour week day\n\t\t\t\t\t\t\t\tmonth </span></div>\n            <div style=\"font-size: 12px; line-height: 16px\">minute： <span\n                style=\"color:#909399\">表示分钟，可以是从0到59之间的任何整数。</span></div>\n            <div style=\"font-size: 12px; line-height: 16px\">hour：<span\n                style=\"color:#909399\">表示小时，可以是从0到23之间的任何整数。</span>\n            </div>\n            <div style=\"font-size: 12px; line-height: 16px\">week：<span\n                style=\"color:#909399\">表示星期几，可以是从0到7之间的任何整数，这里的0或7代表星期日。</span>\n            </div>\n            <div style=\"font-size: 12px; line-height: 16px\">day：<span\n                style=\"color:#909399\">表示日期，可以是从1到31之间的任何整数。</span>\n            </div>\n            <div style=\"font-size: 12px; line-height: 16px\">month：<span\n                style=\"color:#909399\">表示月份，可以是从1到12之间的任何整数。</span>\n            </div>\n\n          </el-col>\n          <el-col :span=\"10\">\n            <h5>配置案例：</h5>\n            <div style=\"font-size: 12px;line-height: 16px\">5 * * * * : <span\n                style=\"color:#909399\">每小时的第5分钟执行一次任务</span>\n            </div>\n            <div style=\"font-size: 12px;line-height: 16px\">30 9 * * * : <span\n                style=\"color:#909399\">每天上午的 9:30\n\t\t\t\t\t\t\t\t执行一次任务</span></div>\n            <div style=\"font-size: 12px;line-height: 16px\">30 9 * 8 * : <span\n                style=\"color:#909399\">每月8号上午的9:30执行一次任务\n\t\t\t\t\t\t\t</span></div>\n            <div style=\"font-size: 12px;line-height: 16px\">30 9 * 5 3 : <span style=\"color:#909399\">\n\t\t\t\t\t\t\t\t每年的3月5日9:30执行一次任务</span></div>\n            <div style=\"font-size: 12px;line-height: 16px\">30 9 0 * * : <span\n                style=\"color:#909399\">每星期日的上午9:30执行一次任务</span></div>\n          </el-col>\n        </el-row>\n      </el-form-item>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\" style=\"text-align: center;\">\n      <el-button @click=\"dialogCron=false\" size=\"small\">取 消</el-button>\n      <el-button v-if=\"updateBtn\" type=\"success\" @click=\"UpdateCron()\" size=\"small\">提交修改</el-button>\n      <el-button v-else type=\"success\" @click=\"createCron()\" size=\"small\">创 建</el-button>\n    </div>\n  </el-dialog>\n\n</template>\n\n<script>\nimport {mapState, mapActions} from 'vuex';\n\nexport default {\n\n  data() {\n    return {\n      // 定时任务列表\n      cronList: null,\n      dialogCron: false,\n      updateBtn: true,\n      // 添加定时任务\n      cronTabData: {\n        name: \"冒烟测试定期执行\",\n        rule: \"* * * * *\",\n        status: true,\n        plan: null,\n        env: null\n      },\n      loading: false,\n    }\n  },\n  computed: {\n    ...mapState(['pro', 'testEnvs', 'testPlans'])\n  },\n  methods: {\n    ...mapActions(['getAllEnvs', \"getAllPlan\"]),\n    async refreshData() {\n      this.loading = true;\n      await Promise.all([this.getAllEnvs(), this.getAllPlan()]);\n      this.loading = false;\n    },\n    async getAllCron() {\n      const response = await this.$api.getCrons(this.pro.id)\n      if (response.status === 200) {\n        this.cronList = response.data\n      }\n    },\n    delCron(id) {\n      this.$confirm('此操作将永久删除该定时任务, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      })\n          .then(async () => {\n            // 删除定时任务\n            const response = await this.$api.delCron(id)\n            if (response.status === 204) {\n              this.$message({\n                type: 'success',\n                message: '删除成功!'\n              });\n              // 刷新页面定时任务\n              this.getAllCron()\n            }\n          })\n          .catch(() => {\n            this.$message({\n              type: 'info',\n              message: '已取消删除'\n            });\n          });\n    },\n    // 任务开启和关闭\n    async switchCronStatus(cron) {\n      const response = await this.$api.updateCron(cron.id, cron)\n      if (response.status === 200) {\n        if (cron.status == true) {\n          this.$message({\n            type: 'success',\n            message: '定时运行已开启',\n            duration: 1000\n          })\n        } else {\n          this.$message({\n            type: 'warning',\n            message: '定时运行已关闭',\n            duration: 1000\n          })\n        }\n      } else {\n        this.$message({\n          type: 'error',\n          message: '修改状态失败',\n          duration: 1000\n        })\n      }\n    },\n\n    // 添加定时任务\n    async createCron() {\n      const params = {\n        project: this.pro.id,\n        ...this.cronTabData\n      }\n      const response = await this.$api.createCron(params)\n      if (response.status === 201) {\n        this.$message({\n          type: 'success',\n          message: '定时任务添加成功',\n          duration: 1000\n        })\n        this.dialogCron = false\n        this.getAllCron()\n      } else {\n        this.$message({\n          type: 'error',\n          message: '定时任务添加失败:' + response.data.name,\n          duration: 1000\n        })\n      }\n    }\n    ,\n    //显示修改定时任务的窗口\n    showUpdateCronDlg(cron) {\n      this.cronTabData = {...cron}\n      this.dialogCron = true\n      // 显示修改按钮\n      this.updateBtn = true\n    }\n    ,\n    // 修改定时任务\n    async UpdateCron() {\n      const response = await this.$api.updateCron(this.cronTabData.id, this.cronTabData)\n      if (response.status === 200) {\n        this.$message({\n          type: 'success',\n          message: '修改成功',\n          duration: 1000\n        })\n        this.dialogCron = false\n        this.getAllCron()\n      }\n    }\n    ,\n  },\n  created() {\n    this.getAllCron();\n    this.getAllEnvs();     // 触发获取最新 testEnvs\n    this.getAllPlan();\n  }\n}\n\n</script>\n\n<style>\n</style>\n","import { render } from \"./CronTab.vue?vue&type=template&id=19e1d9aa\"\nimport script from \"./CronTab.vue?vue&type=script&lang=js\"\nexport * from \"./CronTab.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["style","slot","class","_createVNode","_component_el_button","onClick","_cache","$event","$data","dialogCron","updateBtn","type","icon","size","_component_el_table","data","cronList","_component_el_table_column","label","default","_withCtx","scope","_ctx","$date","rTime","row","create_time","prop","_component_el_switch","onChange","$options","switchCronStatus","status","_component_el_tooltip","effect","content","placement","showUpdateCronDlg","delCron","id","_component_el_dialog","width","_createElementVNode","_hoisted_1","_createElementBlock","_hoisted_2","_hoisted_3","_component_el_form","model","cronTabData","ref","_component_el_form_item","_component_el_input","name","_component_el_select","env","placeholder","_Fragment","_renderList","testEnvs","item","_createBlock","_component_el_option","key","value","plan","testPlans","rule","_component_el_row","gutter","_component_el_col","span","_hoisted_4","UpdateCron","createCron","loading","computed","mapState","methods","mapActions","refreshData","this","Promise","all","getAllEnvs","getAllPlan","getAllCron","response","$api","getCrons","pro","$confirm","confirmButtonText","cancelButtonText","then","async","$message","message","catch","cron","updateCron","duration","params","project","created","__exports__","render"],"sourceRoot":""}